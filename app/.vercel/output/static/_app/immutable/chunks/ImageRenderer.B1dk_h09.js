import{s as st,n as C,a as k}from"./scheduler.Hmp2l1Hb.js";import{S as ft,i as ht,D as q,g as H,p as ut,d as M,e as P,c as E,l as lt,n as x,s as pt,a as V,f as ct,h as T,t as dt,b as mt,j as gt}from"./index.iYw6vxA5.js";import{g as vt,a as wt,c as bt}from"./client.DH9XjiO8.js";const yt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var D={exports:{}};(function(u,s){(function(o,l){u.exports=l()})(wt,function(){function o(){return o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},o.apply(this,arguments)}function l(t,i){if(t){if(typeof t=="string")return c(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,i)}}function c(t,i){(i==null||i>t.length)&&(i=t.length);for(var e=0,r=new Array(i);e<i;e++)r[e]=t[e];return r}function d(t,i){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=l(t))||i){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(t){var i=t.split("-"),e=i[1],r=i[2],h=i[3];if(!e||!r||!h)throw new Error("Malformed asset _ref '"+t+`'. Expected an id like "`+f+'".');var n=r.split("x"),p=n[0],g=n[1],b=+p,v=+g,w=isFinite(b)&&isFinite(v);if(!w)throw new Error("Malformed asset _ref '"+t+`'. Expected an id like "`+f+'".');return{id:e,width:b,height:v,format:h}}var m=function(i){var e=i;return e?typeof e._ref=="string":!1},U=function(i){var e=i;return e?typeof e._id=="string":!1},j=function(i){var e=i;return e&&e.asset?typeof e.asset.url=="string":!1};function G(t){if(!t)return null;var i;if(typeof t=="string"&&X(t))i={asset:{_ref:W(t)}};else if(typeof t=="string")i={asset:{_ref:t}};else if(m(t))i={asset:t};else if(U(t))i={asset:{_ref:t._id||""}};else if(j(t))i={asset:{_ref:W(t.asset.url)}};else if(typeof t.asset=="object")i=o({},t);else return null;var e=t;return e.crop&&(i.crop=e.crop),e.hotspot&&(i.hotspot=e.hotspot),Y(i)}function X(t){return/^https?:\/\//.test(""+t)}function W(t){var i=t.split("/").slice(-1);return("image-"+i[0]).replace(/\.([a-z]+)$/,"-$1")}function Y(t){if(t.crop&&t.hotspot)return t;var i=o({},t);return i.crop||(i.crop={left:0,top:0,bottom:0,right:0}),i.hotspot||(i.hotspot={x:.5,y:.5,height:1,width:1}),i}var F=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function J(t){var i=o({},t||{}),e=i.source;delete i.source;var r=G(e);if(!r)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(e)+")");var h=r.asset._ref||r.asset._id||"",n=a(h),p=Math.round(r.crop.left*n.width),g=Math.round(r.crop.top*n.height),b={left:p,top:g,width:Math.round(n.width-r.crop.right*n.width-p),height:Math.round(n.height-r.crop.bottom*n.height-g)},v=r.hotspot.height*n.height/2,w=r.hotspot.width*n.width/2,O=r.hotspot.x*n.width,_=r.hotspot.y*n.height,y={left:O-w,top:_-v,right:O+w,bottom:_+v};return i.rect||i.focalPoint||i.ignoreImageParams||i.crop||(i=o({},i,Q({crop:b,hotspot:y},i))),K(o({},i,{asset:n}))}function K(t){var i=(t.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),e=t.asset.id+"-"+t.asset.width+"x"+t.asset.height+"."+t.asset.format,r=i+"/images/"+t.projectId+"/"+t.dataset+"/"+e,h=[];if(t.rect){var n=t.rect,p=n.left,g=n.top,b=n.width,v=n.height,w=p!==0||g!==0||v!==t.asset.height||b!==t.asset.width;w&&h.push("rect="+p+","+g+","+b+","+v)}t.bg&&h.push("bg="+t.bg),t.focalPoint&&(h.push("fp-x="+t.focalPoint.x),h.push("fp-y="+t.focalPoint.y));var O=[t.flipHorizontal&&"h",t.flipVertical&&"v"].filter(Boolean).join("");return O&&h.push("flip="+O),F.forEach(function(_){var y=_[0],I=_[1];typeof t[y]<"u"?h.push(I+"="+encodeURIComponent(t[y])):typeof t[I]<"u"&&h.push(I+"="+encodeURIComponent(t[I]))}),h.length===0?r:r+"?"+h.join("&")}function Q(t,i){var e,r=i.width,h=i.height;if(!(r&&h))return{width:r,height:h,rect:t.crop};var n=t.crop,p=t.hotspot,g=r/h,b=n.width/n.height;if(b>g){var v=Math.round(n.height),w=Math.round(v*g),O=Math.max(0,Math.round(n.top)),_=Math.round((p.right-p.left)/2+p.left),y=Math.max(0,Math.round(_-w/2));y<n.left?y=n.left:y+w>n.left+n.width&&(y=n.left+n.width-w),e={left:y,top:O,width:w,height:v}}else{var I=n.width,A=Math.round(I/g),ot=Math.max(0,Math.round(n.left)),at=Math.round((p.bottom-p.top)/2+p.top),S=Math.max(0,Math.round(at-A/2));S<n.top?S=n.top:S+A>n.top+n.height&&(S=n.top+n.height-A),e={left:ot,top:S,width:I,height:A}}return{width:r,height:h,rect:e}}var Z=["clip","crop","fill","fillmax","max","scale","min"],$=["top","bottom","left","right","center","focalpoint","entropy"],tt=["format"];function rt(t){return t&&"config"in t?typeof t.config=="function":!1}function it(t){return t&&"clientConfig"in t?typeof t.clientConfig=="object":!1}function et(t){for(var i=F,e=d(i),r;!(r=e()).done;){var h=r.value,n=h[0],p=h[1];if(t===n||t===p)return n}return t}function nt(t){if(rt(t)){var i=t.config(),e=i.apiHost,r=i.projectId,h=i.dataset,n=e||"https://api.sanity.io";return new R(null,{baseUrl:n.replace(/^https:\/\/api\./,"https://cdn."),projectId:r,dataset:h})}var p=t;if(it(p)){var g=p.clientConfig,b=g.apiHost,v=g.projectId,w=g.dataset,O=b||"https://api.sanity.io";return new R(null,{baseUrl:O.replace(/^https:\/\/api\./,"https://cdn."),projectId:v,dataset:w})}return new R(null,t)}var R=function(){function t(e,r){this.options=void 0,this.options=e?o({},e.options||{},r||{}):o({},r||{})}var i=t.prototype;return i.withOptions=function(r){var h=r.baseUrl||this.options.baseUrl,n={baseUrl:h};for(var p in r)if(r.hasOwnProperty(p)){var g=et(p);n[g]=r[p]}return new t(this,o({baseUrl:h},n))},i.image=function(r){return this.withOptions({source:r})},i.dataset=function(r){return this.withOptions({dataset:r})},i.projectId=function(r){return this.withOptions({projectId:r})},i.bg=function(r){return this.withOptions({bg:r})},i.dpr=function(r){return this.withOptions(r&&r!==1?{dpr:r}:{})},i.width=function(r){return this.withOptions({width:r})},i.height=function(r){return this.withOptions({height:r})},i.focalPoint=function(r,h){return this.withOptions({focalPoint:{x:r,y:h}})},i.maxWidth=function(r){return this.withOptions({maxWidth:r})},i.minWidth=function(r){return this.withOptions({minWidth:r})},i.maxHeight=function(r){return this.withOptions({maxHeight:r})},i.minHeight=function(r){return this.withOptions({minHeight:r})},i.size=function(r,h){return this.withOptions({width:r,height:h})},i.blur=function(r){return this.withOptions({blur:r})},i.sharpen=function(r){return this.withOptions({sharpen:r})},i.rect=function(r,h,n,p){return this.withOptions({rect:{left:r,top:h,width:n,height:p}})},i.format=function(r){return this.withOptions({format:r})},i.invert=function(r){return this.withOptions({invert:r})},i.orientation=function(r){return this.withOptions({orientation:r})},i.quality=function(r){return this.withOptions({quality:r})},i.forceDownload=function(r){return this.withOptions({download:r})},i.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},i.flipVertical=function(){return this.withOptions({flipVertical:!0})},i.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},i.fit=function(r){if(Z.indexOf(r)===-1)throw new Error('Invalid fit mode "'+r+'"');return this.withOptions({fit:r})},i.crop=function(r){if($.indexOf(r)===-1)throw new Error('Invalid crop mode "'+r+'"');return this.withOptions({crop:r})},i.saturation=function(r){return this.withOptions({saturation:r})},i.auto=function(r){if(tt.indexOf(r)===-1)throw new Error('Invalid auto mode "'+r+'"');return this.withOptions({auto:r})},i.pad=function(r){return this.withOptions({pad:r})},i.url=function(){return J(this.options)},i.toString=function(){return this.url()},t}();return nt})})(D);var Ot=D.exports;const _t=vt(Ot),It=_t(bt);function z(u){return It.image(u).auto("format").fit("max")}const{window:xt}=yt;function Mt(u){let s,o="Bild nicht verf√ºgbar";return{c(){s=P("p"),s.textContent=o,this.h()},l(l){s=E(l,"P",{class:!0,"data-svelte-h":!0}),lt(s)!=="svelte-gbyab"&&(s.textContent=o),this.h()},h(){x(s,"class","error-message")},m(l,c){H(l,s,c)},p:C,d(l){l&&M(s)}}}function St(u){let s,o,l,c,d,f=u[0].caption&&N(u);return{c(){s=P("figure"),o=P("img"),d=pt(),f&&f.c(),this.h()},l(a){s=E(a,"FIGURE",{});var m=V(s);o=E(m,"IMG",{class:!0,src:!0,alt:!0}),d=ct(m),f&&f.l(m),m.forEach(M),this.h()},h(){var a,m;x(o,"class","w-full h-auto object-cover rounded-lg shadow-md mx-auto max-w-4xl"),k(o.src,l=z(u[0]).width(1200).height(Math.round(1200/u[2])).fit("crop").crop("focalpoint").focalPoint((a=u[0].hotspot)==null?void 0:a.x,(m=u[0].hotspot)==null?void 0:m.y).auto("format").url())||x(o,"src",l),x(o,"alt",c=B(u[0].alt))},m(a,m){H(a,s,m),T(s,o),T(s,d),f&&f.m(s,null)},p(a,m){var U,j;m&5&&!k(o.src,l=z(a[0]).width(1200).height(Math.round(1200/a[2])).fit("crop").crop("focalpoint").focalPoint((U=a[0].hotspot)==null?void 0:U.x,(j=a[0].hotspot)==null?void 0:j.y).auto("format").url())&&x(o,"src",l),m&1&&c!==(c=B(a[0].alt))&&x(o,"alt",c),a[0].caption?f?f.p(a,m):(f=N(a),f.c(),f.m(s,null)):f&&(f.d(1),f=null)},d(a){a&&M(s),f&&f.d()}}}function N(u){let s,o=u[0].caption+"",l;return{c(){s=P("figcaption"),l=dt(o),this.h()},l(c){s=E(c,"FIGCAPTION",{class:!0});var d=V(s);l=mt(d,o),d.forEach(M),this.h()},h(){x(s,"class","text-center text-sm mt-2 text-gray-600")},m(c,d){H(c,s,d),T(s,l)},p(c,d){d&1&&o!==(o=c[0].caption+"")&&gt(l,o)},d(c){c&&M(s)}}}function Ut(u){let s,o,l;function c(a,m){return a[0]&&a[1]&&z?St:Mt}let d=c(u),f=d(u);return{c(){f.c(),s=q()},l(a){f.l(a),s=q()},m(a,m){f.m(a,m),H(a,s,m),o||(l=ut(xt,"resize",u[3]),o=!0)},p(a,[m]){d===(d=c(a))&&f?f.p(a,m):(f.d(1),f=d(a),f&&(f.c(),f.m(s.parentNode,s)))},i:C,o:C,d(a){a&&M(s),f.d(a),o=!1,l()}}}function B(u){return u?u.replace(/[^\w\s]/gi,"").trim():""}function L(){if(typeof window<"u"){const u=window.innerWidth;return u<640?4/3:(u<1024,16/9)}return 16/9}function jt(u,s,o){let l,c,{value:d}=s;const f=()=>o(2,l=L());return u.$$set=a=>{"value"in a&&o(0,d=a.value)},u.$$.update=()=>{var a;u.$$.dirty&1&&o(1,c=(a=d==null?void 0:d.asset)==null?void 0:a._ref)},o(2,l=L()),[d,c,l,f]}class Ht extends ft{constructor(s){super(),ht(this,s,jt,Ut,st,{value:0})}}export{Ht as I,z as u};
